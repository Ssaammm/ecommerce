{% extends 'base.html.twig' %}

{% block body %}

<br><h1 style="text-align: center">Gestion des Utilisateurs</h1><br><br>

<table class="table">
<thead>
    <tr>
        <td>ID</td>
        <td>EMAIL</td>
        <td>NOM</td>
        <td>PRENOM</td>
        <td>DATE DE NAISSANCE</td>
        <td>ROLE</td>
    </tr>
    </thead>
    {% for user in users %}

    
        <tr>
            <td>{{ user.id }}</td>
            <td>{{ user.email }}</td>
            <td>{{ user.nom}}</td>
            <td>{{ user.prenom }}</td>
            <td>{{ user.dateNaiss | date("d/m/Y")}}</td>
            <td>{{ user.roles | join }}</td>
            <td>
            <form method="post" action="{{ path('user_delete', {'id': user.id}) }}" onsubmit="return confirm('Veux-tu vraiment supprimer cet article ?');">
                <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ user.id) }}">
                <button class="btn btn-success">Delete</button>
            </form>
            </td>
        </tr>
    

    {% endfor %}

</table>

{% endblock %}

